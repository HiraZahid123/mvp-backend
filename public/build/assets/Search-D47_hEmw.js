import{a as o,j as e,H as j,r as b,c as k}from"./app-BzT1XJs-.js";import{u as v}from"./useTranslation-CkkQP2aV.js";import{A as w}from"./AuthenticatedLayout-nSBAhMTT.js";import{R as N}from"./rocket-BToL1O0v.js";import{B as C}from"./ban-DXBIJcNT.js";import{c as g}from"./createLucideIcon-9JG15j3W.js";import{P as S}from"./package-CzCpwh4d.js";import"./Header-CIxGRA4Z.js";import"./transition-DRgArclq.js";import"./circle-user-Cs22UjIs.js";import"./Footer-_ibdc-Gi.js";const _=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],I=g("leaf",_);const T=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],z=g("paintbrush",T);const M=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],A=g("wrench",M),P=o.memo(({strings:t,pauseTime:r=2e3,typingSpeed:m=100,onUserInput:c,className:h=""})=>{const[n,x]=o.useState(0),[a,d]=o.useState(""),[f,p]=o.useState(!0),[u,s]=o.useState(!0);o.useEffect(()=>{if(!u)return;let l;return f?a.length<t[n].length?l=setTimeout(()=>{d(t[n].slice(0,a.length+1))},m):l=setTimeout(()=>{p(!1)},r):a.length>0?l=setTimeout(()=>{d(a.slice(0,a.length-1))},m/2):(x(y=>(y+1)%t.length),p(!0)),()=>clearTimeout(l)},[a,f,u,n,t,r,m]);const i=l=>{s(!1),c(l.target.value)};return e.jsx("input",{type:"text",placeholder:u?a:"",onChange:i,onFocus:()=>s(!1),className:`w-full bg-white border-2 border-gray-border rounded-full px-8 py-4 text-lg font-medium focus:outline-none focus:border-oflem-terracotta transition-all placeholder:text-gray-muted/50 ${h}`})});function K(){const{t}=v(),[r,m]=o.useState(""),[c,h]=o.useState(!0),[n,x]=o.useState(!1),[a,d]=o.useState(!1),f=[t("Cleaning my apartment"),t("Walking my dog"),t("Assembling IKEA furniture"),t("Picking up groceries"),t("Helping with a move")],p=s=>{m(s),h(!0),d(!1)},u=async s=>{if(s.preventDefault(),!(!r||n)){x(!0),d(!1);try{const i=await k.post(route("api.moderation.check"),{content:r}),l=i.data.is_clean;h(l),d(!0),l&&b.get(route("missions.create"),{title:r,improved_title:i.data.improved_title})}catch(i){console.error("Moderation check failed",i)}finally{x(!1)}}};return e.jsxs(w,{header:t("Post a Mission"),maxWidth:"max-w-4xl",showFooter:!0,children:[e.jsx(j,{title:t("Search Mission")}),e.jsxs("div",{className:"py-20 text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-oflem-charcoal tracking-tight leading-tight mb-6",children:[t("What can we")," ",e.jsx("span",{className:"text-oflem-terracotta",children:t("do for you?")})]}),e.jsx("p",{className:"text-lg font-bold text-gray-muted mb-12 max-w-xl mx-auto leading-relaxed",children:t("Describe your mission in a few words. Our AI will help you find the best match.")}),e.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[e.jsxs("form",{onSubmit:u,className:"relative group",children:[e.jsx("div",{className:`transition-all duration-300 rounded-[32px] p-0.5 ${r?n?"bg-gray-200 animate-pulse":a&&!c?"bg-red-100":a&&c?"bg-green-100 shadow-[0_0_20px_rgba(34,197,94,0.1)]":"bg-transparent":"bg-transparent"}`,children:e.jsx(P,{strings:f,onUserInput:p,className:`h-16 text-lg ${r?a&&c?"border-green-500 shadow-sm":a&&!c?"border-red-500":"border-gray-border":"border-gray-border"}`})}),e.jsx("button",{type:"submit",disabled:!r||n,className:`absolute right-3 top-1/2 -translate-y-1/2 px-8 py-3 rounded-full font-black transition-all shadow-md active:scale-95 ${r&&!n?"bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light text-oflem-charcoal hover:opacity-90":"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50"}`,children:n?t("Checking..."):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(N,{size:16})," ",t("Post Mission")]})})]}),a&&!c&&e.jsxs("p",{className:"text-red-500 text-sm font-bold mt-4 flex items-center justify-center gap-2",children:[e.jsx(C,{size:18})," ",t("Content violates moderation rules. Please revise.")]})]}),e.jsx("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:e.jsx(z,{size:32,className:"text-oflem-terracotta"}),label:t("Cleaning")},{icon:e.jsx(S,{size:32,className:"text-oflem-terracotta"}),label:t("Delivery")},{icon:e.jsx(A,{size:32,className:"text-oflem-terracotta"}),label:t("Repair")},{icon:e.jsx(I,{size:32,className:"text-oflem-terracotta"}),label:t("Garden")}].map((s,i)=>e.jsxs("button",{onClick:()=>b.get(route("missions.create"),{category:s.label.toLowerCase()}),className:"bg-white border border-gray-border p-6 rounded-[24px] hover:border-oflem-terracotta transition-all group",children:[e.jsx("div",{className:"flex justify-center mb-2 group-hover:scale-110 transition-transform",children:s.icon}),e.jsx("div",{className:"text-xs font-black text-oflem-charcoal uppercase tracking-widest",children:s.label})]},i))})]})]})}export{K as default};
