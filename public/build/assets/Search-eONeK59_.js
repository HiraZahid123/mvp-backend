import{a as n,j as t,H as y,r as b,c as v}from"./app-CndbTHDq.js";import{u as j}from"./useTranslation-BxDjp-hW.js";import{A as w}from"./AuthenticatedLayout-Beg72nQC.js";import"./Header-CnEZIWpy.js";import"./transition-DUAn2XKW.js";import"./Footer-Bcof6cg9.js";const k=n.memo(({strings:e,pauseTime:a=2e3,typingSpeed:u=100,onUserInput:c,className:g=""})=>{const[o,x]=n.useState(0),[r,d]=n.useState(""),[h,p]=n.useState(!0),[m,s]=n.useState(!0);n.useEffect(()=>{if(!m)return;let l;return h?r.length<e[o].length?l=setTimeout(()=>{d(e[o].slice(0,r.length+1))},u):l=setTimeout(()=>{p(!1)},a):r.length>0?l=setTimeout(()=>{d(r.slice(0,r.length-1))},u/2):(x(f=>(f+1)%e.length),p(!0)),()=>clearTimeout(l)},[r,h,m,o,e,a,u]);const i=l=>{s(!1),c(l.target.value)};return t.jsx("input",{type:"text",placeholder:m?r:"",onChange:i,onFocus:()=>s(!1),className:`w-full bg-white border-2 border-gray-border rounded-full px-8 py-4 text-lg font-medium focus:outline-none focus:border-gold-accent transition-all placeholder:text-gray-muted/50 ${g}`})});function _(){const{t:e}=j(),[a,u]=n.useState(""),[c,g]=n.useState(!0),[o,x]=n.useState(!1),[r,d]=n.useState(!1),h=[e("Cleaning my apartment"),e("Walking my dog"),e("Assembling IKEA furniture"),e("Picking up groceries"),e("Helping with a move")],p=s=>{u(s),g(!0),d(!1)},m=async s=>{if(s.preventDefault(),!(!a||o)){x(!0),d(!1);try{const i=await v.post(route("api.moderation.check"),{content:a}),l=i.data.is_clean;g(l),d(!0),l&&b.get(route("missions.create"),{title:a,improved_title:i.data.improved_title})}catch(i){console.error("Moderation check failed",i)}finally{x(!1)}}};return t.jsxs(w,{header:e("Post a Mission"),maxWidth:"max-w-4xl",showFooter:!0,children:[t.jsx(y,{title:e("Search Mission")}),t.jsxs("div",{className:"py-20 text-center",children:[t.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-primary-black tracking-tight leading-tight mb-6",children:[e("What can we")," ",t.jsx("span",{className:"text-gold-accent",children:e("do for you?")})]}),t.jsx("p",{className:"text-lg font-bold text-gray-muted mb-12 max-w-xl mx-auto leading-relaxed",children:e("Describe your mission in a few words. Our AI will help you find the best match.")}),t.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[t.jsxs("form",{onSubmit:m,className:"relative group",children:[t.jsx("div",{className:`transition-all duration-300 rounded-[32px] p-0.5 ${a?o?"bg-gray-200 animate-pulse":r&&!c?"bg-red-100":r&&c?"bg-green-100 shadow-[0_0_20px_rgba(34,197,94,0.1)]":"bg-transparent":"bg-transparent"}`,children:t.jsx(k,{strings:h,onUserInput:p,className:`h-16 text-lg ${a?r&&c?"border-green-500 shadow-sm":r&&!c?"border-red-500":"border-gray-border":"border-gray-border"}`})}),t.jsx("button",{type:"submit",disabled:!a||o,className:`absolute right-3 top-1/2 -translate-y-1/2 px-8 py-3 rounded-full font-black transition-all shadow-md active:scale-95 ${a&&!o?"bg-gold-accent text-primary-black hover:opacity-90":"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50"}`,children:o?e("Checking..."):`ðŸš€ ${e("Post Mission")}`})]}),r&&!c&&t.jsxs("p",{className:"text-red-500 text-sm font-bold mt-4 flex items-center justify-center gap-2 animate-bounce",children:[t.jsx("span",{children:"ðŸš«"})," ",e("Content violates moderation rules. Please revise.")]})]}),t.jsx("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:"ðŸ§¹",label:e("Cleaning")},{icon:"ðŸ“¦",label:e("Delivery")},{icon:"ðŸ› ï¸",label:e("Repair")},{icon:"ðŸŒ¿",label:e("Garden")}].map((s,i)=>t.jsxs("button",{onClick:()=>b.get(route("missions.create"),{category:s.label.toLowerCase()}),className:"bg-white border border-gray-border p-6 rounded-[24px] hover:border-gold-accent transition-all group",children:[t.jsx("div",{className:"text-3xl mb-2 group-hover:scale-110 transition-transform",children:s.icon}),t.jsx("div",{className:"text-xs font-black text-primary-black uppercase tracking-widest",children:s.label})]},i))})]})]})}export{_ as default};
