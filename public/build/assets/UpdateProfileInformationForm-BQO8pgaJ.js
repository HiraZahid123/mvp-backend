import{b as k,a as m,u as w,j as e,L as C}from"./app-DqP4OVY8.js";import{I as d}from"./InputError-CS9Vfv5r.js";import{I as u}from"./InputLabel-s5odfMCn.js";import{P}from"./PrimaryButton-BfGmvQh3.js";import{T as x}from"./TextInput-Csvqmdts.js";import{u as I}from"./useTranslation-C26tRKoX.js";import{K as L}from"./transition-CNAvhYm6.js";function _({mustVerifyEmail:f,status:h,className:p=""}){const r=k().props.auth.user,{t}=I(),s=m.useRef(null),[n,b]=m.useState(r.avatar),{data:i,setData:o,post:j,errors:c,processing:g,recentlySuccessful:v}=w({name:r.name,email:r.email,avatar:null,_method:"PATCH"}),N=a=>{const l=a.target.files[0];l&&(o("avatar",l),b(URL.createObjectURL(l)))},y=a=>{a.preventDefault(),j(route("profile.update"))};return e.jsxs("section",{className:`${p} bg-white rounded-[32px] p-8 border border-gray-border`,children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal tracking-tight",children:t("Profile Information")}),e.jsx("p",{className:"mt-2 text-sm text-gray-muted font-bold",children:t("Update your account's profile information and email address.")})]}),e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 border border-gray-border overflow-hidden flex items-center justify-center",children:n?e.jsx("img",{src:n,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-2xl font-black text-gray-400",children:r.name.charAt(0)})}),e.jsx("button",{type:"button",onClick:()=>s.current.click(),className:"absolute bottom-0 right-0 w-6 h-6 bg-white rounded-full shadow-md flex items-center justify-center border border-gray-border hover:bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light transition-colors",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:N})]}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>s.current.click(),className:"text-sm font-black text-oflem-charcoal hover:text-oflem-terracotta transition-colors",children:t("Change Photo")}),e.jsx("p",{className:"text-xs text-gray-muted font-bold",children:t("JPG, GIF or PNG. Max 1MB.")})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(u,{htmlFor:"name",value:t("Full Name")}),e.jsx(x,{id:"name",type:"text",className:"mt-1 block w-full",value:i.name,onChange:a=>o("name",a.target.value),required:!0,autoFocus:!0,autoComplete:"name",placeholder:t("Enter your full name")}),e.jsx(d,{className:"mt-2",message:c.name})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(u,{htmlFor:"email",value:t("Email Address")}),e.jsx(x,{id:"email",type:"email",className:"mt-1 block w-full",value:i.email,onChange:a=>o("email",a.target.value),required:!0,autoComplete:"username",placeholder:t("Enter your email address")}),e.jsx(d,{className:"mt-2",message:c.email})]}),f&&r.email_verified_at===null&&e.jsxs("div",{className:"p-4 bg-cream-accent rounded-[16px] border border-oflem-terracotta/20",children:[e.jsxs("p",{className:"text-sm text-oflem-charcoal font-bold",children:[t("Your email address is unverified."),e.jsx(C,{href:route("verification.send"),method:"post",as:"button",className:"ml-2 font-black text-oflem-terracotta hover:underline focus:outline-none",children:t("Click here to re-send.")})]}),h==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-xs font-black text-green-600",children:t("A new verification link has been sent!")})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsx(P,{disabled:g,className:"px-10",children:t("Save Changes")}),e.jsx(L,{show:v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-xs font-black text-green-600",children:t("Saved Successfully!")})})]})]})]})}export{_ as default};
