import{a as N,j as e,H as q,L as w}from"./app-BzT1XJs-.js";import{A as X}from"./AuthenticatedLayout-nSBAhMTT.js";import{u as G}from"./useTranslation-CkkQP2aV.js";import{m as d,d as _,A as J,W as Q,U as Z,e as ee,R as se,b as te}from"./Header-CIxGRA4Z.js";import{D as ae,R as T,B as le,C as ie,X as re,Y as ne,T as L,a as de,b as S,c as ce}from"./BarChart-5hslGkEu.js";import{c as A}from"./createLucideIcon-9JG15j3W.js";import{T as R}from"./trending-up-DPip2IeB.js";import{C as oe}from"./clock-C9KiChAy.js";import{S as xe}from"./shield-check-Cd_EUqZZ.js";import{I as me}from"./info-Bw6ke7Xi.js";import{S as he}from"./sparkles-DIUUJ_sa.js";import{T as pe,P as fe,a as ue}from"./PieChart-J8RZKrf0.js";import{A as O}from"./award-CcnzAQML.js";import{T as ge}from"./tag-TgvqAFp2.js";import{C as be}from"./circle-check-Botrm1eE.js";import{C as P}from"./chevron-right-CGO7asQq.js";import{T as je}from"./target-DLJt1Xb-.js";import{T as ve}from"./triangle-alert-Bdh4Cr7J.js";import{A as Ne}from"./arrow-up-right-D0KeOk4V.js";import"./Footer-_ibdc-Gi.js";import"./transition-DRgArclq.js";import"./circle-user-Cs22UjIs.js";import"./with-selector-CPl_1288.js";const we=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Fe=A("building-2",we);const ke=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Y=A("chart-column",ke);const ye=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ae=A("flame",ye);const Ce=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ze=A("percent",Ce),Me={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.05}}},c={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.45,ease:[.22,1,.36,1]}}},B=["#FF7F00","#0F172A","#10b981","#6366f1","#f59e0b","#ec4899","#14b8a6","#8b5cf6","#ef4444","#64748b"];function i(r,a=2){return parseFloat(r||0).toLocaleString(void 0,{minimumFractionDigits:a,maximumFractionDigits:a})}function _e(r){const a={},o=new Date;for(let x=5;x>=0;x--){const n=new Date(o.getFullYear(),o.getMonth()-x,1),m=`${n.getFullYear()}-${n.getMonth()}`;a[m]={label:n.toLocaleDateString(void 0,{month:"short"}),total:0,count:0}}return r&&r.forEach(x=>{if(!x.captured_at)return;const n=new Date(x.captured_at),m=`${n.getFullYear()}-${n.getMonth()}`;a[m]&&(a[m].total+=parseFloat(x.amount||0),a[m].count+=1)}),Object.values(a)}const Pe=({active:r,payload:a,label:o})=>!r||!a?.length?null:e.jsxs("div",{className:"bg-[#0F172A] text-white px-4 py-3 rounded-lg shadow-2xl border border-white/10 text-sm",children:[e.jsx("p",{className:"font-black mb-1",children:o}),e.jsxs("p",{className:"text-[#FF7F00] font-bold",children:["CHF ",i(a[0]?.value)]}),a[0]?.payload?.count>0&&e.jsxs("p",{className:"text-white/50 text-xs mt-0.5",children:[a[0].payload.count," missions"]})]}),$e=({active:r,payload:a})=>!r||!a?.length?null:e.jsxs("div",{className:"bg-[#0F172A] text-white px-4 py-3 rounded-lg shadow-2xl border border-white/10 text-sm",children:[e.jsx("p",{className:"font-black mb-1",children:a[0].name}),e.jsxs("p",{className:"font-bold",style:{color:a[0].fill},children:["CHF ",i(a[0].value)]})]}),F=({label:r,value:a,accent:o})=>e.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-3 bg-white border border-slate-100 rounded-xl shadow-sm min-w-[110px]",children:[e.jsx("p",{className:`text-sm font-black ${o??"text-[#0F172A]"}`,children:a}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:r})]});function ts({totalSpent:r,totalCommission:a,totalToProvider:o,categoryBreakdown:x,payments:n,issuePayments:m,totalRefunded:$,repeatProviders:D}){const{t}=G(),[H,E]=N.useState("all"),f=n?.length??0,W=f>0?r/f:0,V=r>0?(a/r*100).toFixed(0):0,I=n?.[0]?.captured_at?new Date(n[0].captured_at).toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"}):null,h=N.useMemo(()=>_e(n),[n]),p=N.useMemo(()=>h.reduce((s,l)=>l.total>s.total?l:s,{label:"—",total:0}),[h]),K=h[h.length-1],C=h[h.length-2],u=K?.total-(C?.total??0),k=C?.total>0?(u/C.total*100).toFixed(0):null,g=N.useMemo(()=>n?.length?n.reduce((s,l)=>parseFloat(l.amount||0)>parseFloat(s.amount||0)?l:s):null,[n]),j=n?.filter(s=>H==="all"?!0:new Date(s.captured_at).getMonth()===new Date().getMonth())??[],v=N.useMemo(()=>Object.entries(x||{}).map(([s,l],b)=>({name:s,value:l,fill:B[b%B.length]})),[x]);return e.jsxs(X,{header:t("My Wallet"),maxWidth:"max-w-6xl",showFooter:!0,children:[e.jsx(q,{title:t("Wallet")}),e.jsxs(d.div,{initial:"hidden",animate:"visible",variants:Me,className:"py-6 px-2 sm:px-0 space-y-8",children:[e.jsxs(d.div,{variants:c,className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-[#FF7F00] mb-1",children:t("Financial Overview")}),e.jsx("h1",{className:"text-3xl font-black text-[#0F172A] tracking-tight",children:t("Wallet Overview")})]}),e.jsxs(w,{href:route("missions.create"),className:"group inline-flex items-center gap-2 px-5 py-2.5 bg-[#FF7F00] text-white font-bold text-sm rounded-xl hover:bg-[#e67300] active:scale-[0.97] transition-all shadow-md shadow-orange-200",children:[e.jsx(_,{size:16}),t("Create New Mission"),e.jsx(J,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]}),e.jsxs("a",{href:route("wallet.client.export"),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-slate-200 text-slate-500 font-bold text-sm rounded-xl hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm",children:[e.jsx(ae,{size:15}),t("Export CSV")]})]}),e.jsxs(d.div,{variants:c,className:"flex flex-wrap gap-3",children:[e.jsx(F,{label:t("Missions"),value:f}),e.jsx(F,{label:t("Avg/Mission"),value:`CHF ${i(W,0)}`}),p.total>0&&e.jsx(F,{label:t("Peak Month"),value:p.label,accent:"text-[#FF7F00]"}),g&&e.jsx(F,{label:t("Biggest Pay"),value:`CHF ${i(g.amount,0)}`}),k!==null&&e.jsx(F,{label:t("vs Last Month"),value:`${u>=0?"+":""}${k}%`,accent:u>=0?"text-emerald-600":"text-red-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[e.jsxs(d.div,{variants:c,className:"md:col-span-1 bg-[#FF7F00] rounded-2xl p-7 text-white relative overflow-hidden shadow-xl flex flex-col justify-between min-h-[240px]",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-11 h-11 bg-white/20 rounded-lg flex items-center justify-center mb-5",children:e.jsx(Q,{size:20,strokeWidth:2.5})}),e.jsx("p",{className:"text-xs font-bold text-white/70 uppercase tracking-widest mb-2",children:t("Total Spent")}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsx("span",{className:"text-base font-bold text-white/80",children:"CHF"}),e.jsx("span",{className:"text-5xl font-black tracking-tighter leading-none",children:i(r,0)})]}),e.jsx("p",{className:"text-white/60 text-xs font-medium",children:t("Across all your missions")})]}),e.jsxs("div",{className:"relative z-10 mt-auto pt-5 border-t border-white/20 flex items-center justify-between",children:[e.jsxs("span",{className:"text-white/60 text-xs font-bold uppercase tracking-widest",children:[f," ",t("missions paid")]}),e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Ae,{size:14})})]}),e.jsx("div",{className:"absolute -top-10 -right-10 w-44 h-44 bg-white/10 rounded-full"}),e.jsx("div",{className:"absolute -bottom-8 -left-8 w-28 h-28 bg-black/10 rounded-full"})]}),e.jsxs(d.div,{variants:c,className:"bg-white rounded-2xl p-7 border border-slate-100 shadow-lg flex flex-col justify-between min-h-[240px]",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-11 h-11 bg-orange-50 rounded-lg flex items-center justify-center text-[#FF7F00] mb-5",children:e.jsx(Y,{size:20,strokeWidth:2.5})}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:t("Avg. Per Mission")}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-1",children:[e.jsx("span",{className:"text-base font-bold text-slate-400",children:"CHF"}),e.jsx("span",{className:"text-4xl font-black text-[#0F172A] tracking-tighter",children:i(W,0)})]}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:t("Average investment per task")})]}),e.jsxs("div",{className:"mt-auto pt-5 border-t border-slate-50 flex items-center gap-2 text-emerald-500",children:[e.jsx(R,{size:13}),e.jsx("span",{className:"text-xs font-bold",children:t("Smart budget tracking")})]})]}),e.jsxs(d.div,{variants:c,className:"bg-white rounded-2xl p-7 border border-slate-100 shadow-lg flex flex-col justify-between min-h-[240px]",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-11 h-11 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400 mb-5",children:e.jsx(oe,{size:20,strokeWidth:2.5})}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:t("Last Payment")}),e.jsx("p",{className:"text-2xl font-black text-[#0F172A] tracking-tight mb-1 leading-snug",children:I??t("No activity")}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:t("Most recent mission payment")})]}),e.jsxs("div",{className:"mt-auto pt-5 border-t border-slate-50 flex items-center gap-2 text-slate-400",children:[e.jsx(xe,{size:13}),e.jsx("span",{className:"text-xs font-bold",children:t("Secured by Oflem Escrow")})]})]})]}),e.jsxs(d.div,{variants:c,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"w-7 h-7 bg-violet-50 rounded-lg flex items-center justify-center text-violet-500",children:e.jsx(me,{size:14,strokeWidth:2.5})}),e.jsx("h2",{className:"text-lg font-black text-[#0F172A]",children:t("Payment Breakdown")})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-md p-6",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-lg flex items-center justify-center text-emerald-500 mb-4",children:e.jsx(Z,{size:18,strokeWidth:2.5})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:t("Paid to Providers")}),e.jsxs("p",{className:"text-2xl font-black text-emerald-600 mb-0.5",children:["CHF ",i(o??0,0)]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:r>0?`${((o??0)/r*100).toFixed(0)}% ${t("of total")}`:"—"})]}),e.jsxs("div",{className:"bg-[#0F172A] rounded-2xl p-6 text-white relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-10 h-10 bg-[#FF7F00]/20 rounded-lg flex items-center justify-center text-[#FF7F00] mb-4",children:e.jsx(ze,{size:18,strokeWidth:2.5})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/40 mb-1",children:t("Platform Fee Paid")}),e.jsxs("p",{className:"text-2xl font-black text-white mb-0.5",children:["CHF ",i(a??0,0)]}),e.jsxs("p",{className:"text-xs text-white/40 font-medium",children:[V,"% ",t("avg commission")]})]}),e.jsx("div",{className:"absolute -bottom-5 -right-5 w-20 h-20 bg-[#FF7F00]/10 rounded-full"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-md p-6",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center text-[#FF7F00] mb-4",children:e.jsx(Fe,{size:18,strokeWidth:2.5})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:t("Oflem Contribution")}),e.jsxs("p",{className:"text-2xl font-black text-[#0F172A] mb-0.5",children:["CHF ",i(a??0,0)]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:t("Powers platform security, escrow & support")})]})]}),r>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:t("How your CHF is split")}),e.jsxs("p",{className:"text-xs font-black text-slate-500",children:["CHF ",i(r,0)," ",t("total")]})]}),e.jsxs("div",{className:"w-full h-3 rounded-full overflow-hidden flex gap-0.5",children:[e.jsx("div",{className:"h-full bg-emerald-500 rounded-l-full transition-all duration-700",style:{width:`${((o??0)/r*100).toFixed(1)}%`},title:`Provider: CHF ${i(o,0)}`}),e.jsx("div",{className:"h-full bg-[#FF7F00] rounded-r-full transition-all duration-700",style:{width:`${((a??0)/r*100).toFixed(1)}%`},title:`Platform: CHF ${i(a,0)}`})]}),e.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:t("Provider")})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#FF7F00]"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:t("Platform fee")})]})]})]})]}),e.jsxs(d.div,{variants:c,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"w-7 h-7 bg-orange-50 rounded-lg flex items-center justify-center text-[#FF7F00]",children:e.jsx(he,{size:14,strokeWidth:2.5})}),e.jsx("h2",{className:"text-lg font-black text-[#0F172A]",children:t("Spending Analytics")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 shadow-lg p-7",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-0.5",children:t("Monthly Spending")}),e.jsx("p",{className:"text-xl font-black text-[#0F172A]",children:t("Last 6 Months")})]}),k!==null&&e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-black ${u>=0?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-500"}`,children:[u>=0?e.jsx(R,{size:11}):e.jsx(pe,{size:11}),u>=0?"+":"",k,"%"]})]}),f>0?e.jsx(T,{width:"100%",height:200,children:e.jsxs(le,{data:h,barSize:32,margin:{top:0,right:0,left:-22,bottom:0},children:[e.jsx(ie,{vertical:!1,strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(re,{dataKey:"label",axisLine:!1,tickLine:!1,tick:{fontSize:11,fontWeight:700,fill:"#94a3b8"}}),e.jsx(ne,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:700,fill:"#94a3b8"},tickFormatter:s=>s>0?`${(s/1e3).toFixed(0)}k`:"0"}),e.jsx(L,{content:e.jsx(Pe,{}),cursor:{fill:"#f8fafc",radius:4}}),e.jsx(de,{dataKey:"total",radius:[6,6,2,2],children:h.map((s,l)=>e.jsx(S,{fill:s.total===p.total&&s.total>0?"#FF7F00":"#0F172A",fillOpacity:s.total===p.total&&s.total>0?1:.1},l))})]})}):e.jsxs("div",{className:"h-[200px] flex flex-col items-center justify-center text-slate-200",children:[e.jsx(Y,{size:44,strokeWidth:1,className:"mb-3"}),e.jsx("p",{className:"text-sm font-bold text-slate-300",children:t("No spending data yet")})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-[#0F172A] rounded-2xl p-6 text-white relative overflow-hidden flex-1",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-9 h-9 bg-[#FF7F00]/20 rounded-lg flex items-center justify-center mb-4",children:e.jsx(O,{size:16,className:"text-[#FF7F00]"})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/40 mb-0.5",children:t("Peak Spend Month")}),e.jsx("p",{className:"text-2xl font-black text-white mb-0.5",children:p.total>0?p.label:"—"}),p.total>0&&e.jsxs("p",{className:"text-[#FF7F00] text-sm font-black",children:["CHF ",i(p.total,0)]})]}),e.jsx("div",{className:"absolute -bottom-5 -right-5 w-20 h-20 bg-[#FF7F00]/10 rounded-full"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-md flex-1",children:[e.jsx("div",{className:"w-9 h-9 bg-orange-50 rounded-lg flex items-center justify-center mb-4",children:e.jsx(ee,{size:16,className:"text-[#FF7F00]"})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-0.5",children:t("Biggest Payment")}),g?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-2xl font-black text-[#0F172A] mb-0.5",children:["CHF ",i(g.amount,0)]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium truncate",children:g.mission?.title??`Mission #${g.mission_id}`})]}):e.jsx("p",{className:"text-slate-300 text-sm font-bold",children:"—"})]})]})]})]}),v.length>0&&e.jsxs(d.div,{variants:c,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"w-7 h-7 bg-indigo-50 rounded-lg flex items-center justify-center text-indigo-500",children:e.jsx(ge,{size:14,strokeWidth:2.5})}),e.jsx("h2",{className:"text-lg font-black text-[#0F172A]",children:t("Spending by Category")})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-lg p-7",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[e.jsx(T,{width:"100%",height:220,children:e.jsxs(fe,{children:[e.jsx(ue,{data:v,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:55,outerRadius:90,paddingAngle:3,stroke:"none",children:v.map((s,l)=>e.jsx(S,{fill:s.fill},l))}),e.jsx(L,{content:e.jsx($e,{})})]})}),e.jsx("div",{className:"space-y-2.5",children:v.map((s,l)=>{const b=v.reduce((z,M)=>z+M.value,0),y=b>0?(s.value/b*100).toFixed(0):0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{background:s.fill}}),e.jsx("span",{className:"text-sm font-bold text-[#0F172A] truncate",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[y,"%"]}),e.jsxs("span",{className:"text-sm font-black text-[#0F172A]",children:["CHF ",i(s.value,0)]})]})]}),e.jsx("div",{className:"w-full h-1 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${y}%`,background:s.fill}})})]},l)})})]})})]}),e.jsxs(d.div,{variants:c,className:"bg-[#0F172A] rounded-2xl p-7 md:p-9 flex flex-col md:flex-row md:items-center gap-7 text-white relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 flex-1",children:[e.jsx("p",{className:"text-[#FF7F00] text-[10px] font-black uppercase tracking-widest mb-2",children:t("How it works")}),e.jsx("h3",{className:"text-xl font-black mb-2 leading-tight",children:t("Secured Escrow Payments")}),e.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed max-w-lg",children:t("Your money is held securely in escrow and only released to the provider once you validate the completed mission. You are always protected.")})]}),e.jsx("div",{className:"relative z-10 flex flex-wrap gap-2.5",children:["Fund mission","Work is done","You validate","Provider paid"].map((s,l)=>e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3.5 py-2 rounded-xl",children:[e.jsx("span",{className:"w-5 h-5 bg-[#FF7F00] rounded-full text-[10px] font-black text-white flex items-center justify-center",children:l+1}),e.jsx("span",{className:"text-xs font-bold text-white/80",children:t(s)})]},l))}),e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-56 h-56 bg-[#FF7F00]/8 rounded-full blur-3xl"})]}),e.jsxs(d.div,{variants:c,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"w-7 h-7 bg-orange-50 rounded-lg flex items-center justify-center text-[#FF7F00]",children:e.jsx(ce,{size:14,strokeWidth:2.5})}),e.jsx("h2",{className:"text-lg font-black text-[#0F172A]",children:t("Transaction History")}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 bg-slate-50 border border-slate-100 px-2 py-0.5 rounded-lg uppercase tracking-widest",children:[f," ",t("total")]})]}),e.jsx("div",{className:"flex items-center gap-2",children:["all","month"].map(s=>e.jsx("button",{onClick:()=>E(s),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${H===s?"bg-[#0F172A] text-white shadow-md":"bg-slate-50 text-slate-400 hover:bg-slate-100 border border-slate-100"}`,children:t(s==="all"?"All":"This Month")},s))})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden shadow-lg",children:j.length>0?e.jsxs("div",{children:[e.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 px-7 py-3 border-b border-slate-50 bg-slate-50/60",children:[e.jsx("span",{className:"col-span-4 text-[10px] font-black uppercase tracking-widest text-slate-400",children:t("Mission")}),e.jsx("span",{className:"col-span-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:t("Category")}),e.jsx("span",{className:"col-span-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:t("Date")}),e.jsx("span",{className:"col-span-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:t("Status")}),e.jsx("span",{className:"col-span-2 text-[10px] font-black uppercase tracking-widest text-slate-400 text-right",children:t("Amount")})]}),e.jsx("div",{className:"divide-y divide-slate-50",children:j.map((s,l)=>e.jsxs(d.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:l*.03},className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center px-5 md:px-7 py-4 hover:bg-slate-50/70 transition-colors group",children:[e.jsxs("div",{className:"md:col-span-4 flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 shrink-0 bg-orange-50 rounded-lg flex items-center justify-center text-[#FF7F00] group-hover:bg-[#FF7F00] group-hover:text-white transition-all",children:e.jsx(be,{size:16,strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-black text-[#0F172A] text-sm truncate",children:s.mission?.title??`Mission #${s.mission_id}`}),e.jsx("p",{className:"text-xs text-slate-400 font-medium mt-0.5 md:hidden",children:s.captured_at?new Date(s.captured_at).toLocaleDateString():t("Processing")})]})]}),e.jsx("div",{className:"md:col-span-2 hidden md:block",children:s.mission?.category?e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[10px] font-black bg-slate-50 text-slate-500 border border-slate-100 uppercase tracking-wide truncate max-w-full",children:s.mission.category}):e.jsx("span",{className:"text-slate-300 text-xs",children:"—"})}),e.jsxs("div",{className:"md:col-span-2 hidden md:block",children:[e.jsx("p",{className:"text-sm font-bold text-slate-500",children:s.captured_at?new Date(s.captured_at).toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"}):t("Processing")}),e.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:["ID #",s.mission_id]})]}),e.jsx("div",{className:"md:col-span-2 hidden md:block",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 text-emerald-600 text-[10px] font-black uppercase tracking-widest rounded-lg border border-emerald-100",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),t("Paid")]})}),e.jsxs("div",{className:"md:col-span-2 flex items-center justify-between md:justify-end gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-base font-black text-[#0F172A] tracking-tight",children:["− CHF ",i(s.amount)]}),s.platform_commission>0&&e.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["fee: ",i(s.platform_commission)]})]}),e.jsx(w,{href:route("missions.show",s.mission_id),className:"w-8 h-8 shrink-0 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400 hover:bg-[#FF7F00] hover:text-white transition-all",children:e.jsx(P,{size:14})})]})]},s.id))}),e.jsxs("div",{className:"px-7 py-4 border-t border-slate-50 bg-slate-50/40 flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:[j.length," ",t("Transactions shown")]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-black text-[#0F172A]",children:[t("Total"),": CHF ",i(j.reduce((s,l)=>s+parseFloat(l.amount||0),0))]}),e.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[t("Provider received"),": CHF ",i(j.reduce((s,l)=>s+parseFloat(l.provider_amount||0),0))]})]})]})]}):e.jsxs("div",{className:"py-20 px-10 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-2xl flex items-center justify-center mx-auto mb-6 text-slate-200 border border-slate-100",children:e.jsx(je,{size:40,strokeWidth:1.5})}),e.jsx("h4",{className:"text-xl font-black text-[#0F172A] mb-2",children:t("No payments yet")}),e.jsx("p",{className:"text-slate-400 font-medium max-w-sm mx-auto mb-8 leading-relaxed text-sm",children:t("Once you create and pay for your first mission, all transaction details will appear here.")}),e.jsxs(w,{href:route("missions.create"),className:"inline-flex items-center gap-2 px-8 py-3 bg-[#0F172A] text-white font-black text-sm rounded-xl hover:bg-[#FF7F00] transition-all shadow-lg shadow-slate-200",children:[e.jsx(_,{size:16}),t("Post Your First Mission")]})]})})]}),m?.length>0&&e.jsxs(d.div,{variants:c,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"w-7 h-7 bg-red-50 rounded-lg flex items-center justify-center text-red-500",children:e.jsx(ve,{size:14,strokeWidth:2.5})}),e.jsx("h2",{className:"text-lg font-black text-[#0F172A]",children:t("Refunds & Disputes")}),$>0&&e.jsxs("span",{className:"text-xs font-black text-emerald-600 bg-emerald-50 border border-emerald-100 px-2 py-0.5 rounded-lg",children:["+ CHF ",i($,0)," ",t("refunded")]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-lg overflow-hidden",children:e.jsx("div",{className:"divide-y divide-slate-50",children:m.map((s,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 shrink-0 rounded-lg flex items-center justify-center ${s.status==="refunded"?"bg-emerald-50 text-emerald-500":"bg-red-50 text-red-400"}`,children:s.status==="refunded"?e.jsx(se,{size:16,strokeWidth:2.5}):e.jsx(te,{size:16,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-[#0F172A] text-sm",children:s.mission?.title??`Mission #${s.mission_id}`}),e.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-0.5",children:[s.mission?.category&&e.jsxs("span",{className:"capitalize",children:[s.mission.category," · "]}),s.updated_at?new Date(s.updated_at).toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"}):"—"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:`text-base font-black ${s.status==="refunded"?"text-emerald-600":"text-red-500"}`,children:[s.status==="refunded"?"+ ":"","CHF ",i(s.amount)]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-widest rounded-lg border ${s.status==="refunded"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-red-50 text-red-500 border-red-100"}`,children:s.status==="refunded"?t("Refunded"):t("Disputed")}),e.jsx(w,{href:route("missions.show",s.mission_id),className:"w-8 h-8 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400 hover:bg-[#FF7F00] hover:text-white transition-all",children:e.jsx(P,{size:14})})]})]},s.id))})})]}),D?.length>0&&e.jsxs(d.div,{variants:c,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2.5 px-1",children:[e.jsx("span",{className:"w-7 h-7 bg-amber-50 rounded-lg flex items-center justify-center text-amber-500",children:e.jsx(O,{size:14,strokeWidth:2.5})}),e.jsx("h2",{className:"text-lg font-black text-[#0F172A]",children:t("Loyal Providers")})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-5 shadow-sm flex items-center gap-4 hover:border-amber-200 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"relative",children:[s.provider_avatar?e.jsx("img",{src:s.provider_avatar,alt:s.provider_name,className:"w-12 h-12 rounded-xl object-cover ring-2 ring-white"}):e.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-500 font-black text-xs ring-2 ring-white",children:s.provider_name.charAt(0)}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-amber-500 text-white rounded-full p-0.5 border-2 border-white",children:e.jsx(Trophy,{size:8})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-black text-[#0F172A] text-sm truncate",children:s.provider_name}),e.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:[s.mission_count," ",t("Missions Finished")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-black text-amber-600",children:["CHF ",i(s.total_paid,0)]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:t("Total Paid")})]})]},s.provider_id))})]}),e.jsx(d.div,{variants:c,className:"grid sm:grid-cols-2 gap-4",children:[{href:route("providers.index"),icon:Ne,label:t("Find a Provider"),sub:t("Browse top-rated helpers near you"),hoverBg:"group-hover:bg-[#FF7F00] group-hover:text-white",bg:"bg-orange-50",tc:"text-[#FF7F00]"},{href:route("missions.create"),icon:_,label:t("Start New Mission"),sub:t("Post a task and get it done fast"),hoverBg:"group-hover:bg-[#0F172A] group-hover:text-white",bg:"bg-slate-50",tc:"text-slate-400"}].map(({href:s,icon:l,label:b,sub:y,hoverBg:z,bg:M,tc:U})=>e.jsxs(w,{href:s,className:"group bg-white border border-slate-100 rounded-2xl p-6 flex items-center gap-4 hover:border-slate-200 hover:shadow-md transition-all",children:[e.jsx("div",{className:`w-11 h-11 ${M} rounded-lg flex items-center justify-center ${U} ${z} transition-all shrink-0`,children:e.jsx(l,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-black text-[#0F172A] text-sm mb-0.5",children:b}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:y})]}),e.jsx(P,{size:16,className:"text-slate-300 group-hover:text-slate-500 transition-colors shrink-0"})]},s))})]})]})}export{ts as default};
