import{j as e,a as d,r as y,H as v,L as p}from"./app-DqP4OVY8.js";import{A as k}from"./AuthenticatedLayout-ChMwL2zy.js";import{u as w}from"./useTranslation-C26tRKoX.js";import{c as N}from"./createLucideIcon-D7VYjqJd.js";import{X as g,M as C,g as _,R as F}from"./Header-DWYrLM5m.js";import{l as M}from"./lodash-WCrg3XG-.js";import{F as D}from"./funnel-BAhoME6_.js";import{Z as S}from"./zap-BhhDvb_i.js";import{T as z}from"./tag-BaG4aROf.js";import{C as A}from"./circle-dollar-sign-WFbt44uR.js";import{C as I}from"./calendar-BR4HBI-0.js";import{I as H}from"./inbox-2dnLGZMV.js";import"./Footer-Bdwr9a_8.js";import"./transition-CNAvhYm6.js";import"./circle-user-DF7FCUb8.js";const R=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],h=N("sliders-vertical",R);function L({filters:a,onFilterChange:c,availableCategories:o}){const i=["Cleaning","Moving","DIY","IT","Admin","Delivery","Pets","Gardening","Events","Education","Wellness","Other"],r=o?.length>0?[...new Set([...o,...i])]:i;return e.jsx("div",{className:"hidden lg:block w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 bg-white rounded-3xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(h,{className:"w-5 h-5 text-oflem-terracotta"}),e.jsx("h2",{className:"text-xl font-black text-oflem-charcoal",children:"Filters"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Category"}),e.jsxs("select",{value:a.categories&&a.categories.length>0?a.categories[0]:"",onChange:t=>c({...a,categories:t.target.value?[t.target.value]:[]}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20",children:[e.jsx("option",{value:"",children:"All Categories"}),r.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Budget Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"number",placeholder:"Min CHF",value:a.min_budget||"",onChange:t=>c({...a,min_budget:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"}),e.jsx("input",{type:"number",placeholder:"Max CHF",value:a.max_budget||"",onChange:t=>c({...a,max_budget:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:["Distance: ",a.radius||5,"km"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:a.radius||5,onChange:t=>c({...a,radius:t.target.value}),className:"w-full h-2 bg-oflem-cream rounded-lg appearance-none cursor-pointer accent-oflem-terracotta"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-muted mt-1",children:[e.jsx("span",{children:"1km"}),e.jsx("span",{children:"50km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Deadline"}),e.jsx("input",{type:"date",value:a.deadline||"",onChange:t=>c({...a,deadline:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-oflem-cream rounded-2xl",children:[e.jsx("span",{className:"font-bold text-oflem-charcoal",children:"Remote Only"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.remote_only||!1,onChange:t=>c({...a,remote_only:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-oflem-terracotta/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light"})]})]}),e.jsx("button",{onClick:()=>c({radius:5,sort_by:a.sort_by||"distance"}),className:"w-full px-6 py-3 bg-gray-100 text-oflem-charcoal rounded-2xl font-black hover:bg-gray-200 transition-colors",children:"Reset Filters"})]})]})})}function O({filters:a,onFilterChange:c}){const o=[];a.search&&o.push({key:"search",label:`Search: ${a.search}`,value:a.search}),a.categories&&a.categories.length>0&&o.push({key:"categories",label:`Category: ${a.categories.join(", ")}`,value:a.categories}),a.min_budget&&o.push({key:"min_budget",label:`Min: CHF ${a.min_budget}`,value:a.min_budget}),a.max_budget&&o.push({key:"max_budget",label:`Max: CHF ${a.max_budget}`,value:a.max_budget}),a.radius&&a.radius!==5&&o.push({key:"radius",label:`${a.radius}km radius`,value:a.radius}),a.remote_only&&o.push({key:"remote_only",label:"Remote only",value:!0}),a.deadline&&o.push({key:"deadline",label:`Deadline: ${a.deadline}`,value:a.deadline});const i=t=>{const n={...a};delete n[t],c(n)},r=()=>{c({radius:5,sort_by:a.sort_by||"distance"})};return o.length===0?null:e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-gray-muted",children:"Active Filters:"}),o.map(t=>e.jsxs("button",{onClick:()=>i(t.key),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light/10 text-oflem-terracotta rounded-full text-sm font-bold hover:bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light hover:text-white transition-colors group",children:[t.label,e.jsx(g,{className:"w-3 h-3 group-hover:rotate-90 transition-transform"})]},t.key)),o.length>1&&e.jsx("button",{onClick:r,className:"text-xs font-black uppercase tracking-widest text-gray-muted hover:text-oflem-terracotta transition-colors",children:"Clear All"})]})}function T({filters:a,onFilterChange:c,isOpen:o,onClose:i,availableCategories:r}){const[t,n]=d.useState(a),u=()=>{c(t),i()},x=["Cleaning","Moving","DIY","IT","Admin","Delivery","Pets","Gardening","Events","Education","Wellness","Other"],f=r?.length>0?[...new Set([...r,...x])]:x;return o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:i}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white z-50 lg:hidden overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-5 h-5 text-oflem-terracotta"}),e.jsx("h2",{className:"text-xl font-black text-oflem-charcoal",children:"Filters"})]}),e.jsx("button",{onClick:i,className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(g,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Category"}),e.jsxs("select",{value:t.categories&&t.categories.length>0?t.categories[0]:"",onChange:l=>n({...t,categories:l.target.value?[l.target.value]:[]}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20",children:[e.jsx("option",{value:"",children:"All Categories"}),f.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Budget Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"number",placeholder:"Min CHF",value:t.min_budget||"",onChange:l=>n({...t,min_budget:l.target.value}),className:"px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"}),e.jsx("input",{type:"number",placeholder:"Max CHF",value:t.max_budget||"",onChange:l=>n({...t,max_budget:l.target.value}),className:"px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:["Distance: ",t.radius||5,"km"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:t.radius||5,onChange:l=>n({...t,radius:l.target.value}),className:"w-full h-2 bg-oflem-cream rounded-lg appearance-none cursor-pointer accent-oflem-terracotta"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-muted mt-1",children:[e.jsx("span",{children:"1km"}),e.jsx("span",{children:"50km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Deadline"}),e.jsx("input",{type:"date",value:t.deadline||"",onChange:l=>n({...t,deadline:l.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-oflem-cream rounded-2xl",children:[e.jsx("span",{className:"font-bold text-oflem-charcoal",children:"Remote Only"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.remote_only||!1,onChange:l=>n({...t,remote_only:l.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-oflem-terracotta/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-100 p-6 flex gap-4",children:[e.jsx("button",{onClick:()=>{n({radius:5,sort_by:"distance"}),c({radius:5,sort_by:"distance"}),i()},className:"flex-1 px-6 py-4 bg-gray-100 text-oflem-charcoal rounded-2xl font-black hover:bg-gray-200 transition-colors",children:"Reset"}),e.jsx("button",{onClick:u,className:"flex-1 px-6 py-4 bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light text-white rounded-2xl font-black hover:bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light/90 transition-colors",children:"Apply Filters"})]})]})]}):null}function ee({missions:a,userLocation:c,currentFilters:o,availableCategories:i}){const{t:r}=w(),[t,n]=d.useState(o||{}),[u,x]=d.useState(!0),[f,l]=d.useState(!1),b=d.useCallback(M.debounce(s=>{y.get(route("missions.active"),s,{preserveState:!0,preserveScroll:!0,replace:!0})},300),[]);d.useEffect(()=>{if(u){x(!1);return}b(t)},[t]);const m=s=>{n(s)};return e.jsxs(k,{header:r("Active Missions"),maxWidth:"max-w-[1400px]",showFooter:!0,children:[e.jsx(v,{title:r("Active Missions")}),e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[e.jsx(L,{filters:t,onFilterChange:m}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-gray-muted font-bold",children:[r("Showing missions within")," ",e.jsxs("span",{className:"text-oflem-terracotta",children:[t.radius||5,"km"]})," ",r("of your location.")]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-xs font-black text-gray-muted uppercase tracking-widest",children:[r("Sort"),":"]}),e.jsxs("select",{value:t.sort_by||"distance",onChange:s=>m({...t,sort_by:s.target.value}),className:"bg-white border-2 border-gray-border rounded-full px-6 py-2 font-bold text-sm outline-none focus:border-oflem-terracotta transition-all",children:[e.jsx("option",{value:"distance",children:r("Closest")}),e.jsx("option",{value:"newest",children:r("Newest")}),e.jsx("option",{value:"budget",children:r("Budget")}),e.jsx("option",{value:"deadline",children:r("Deadline")})]}),e.jsxs("button",{onClick:()=>l(!0),className:"lg:hidden flex items-center gap-2 px-6 py-2 bg-white border-2 border-gray-border rounded-full font-bold text-sm hover:border-oflem-terracotta transition-all shadow-sm",children:[e.jsx(D,{size:16})," ",r("Filters")]})]})]}),e.jsx(O,{filters:t,onFilterChange:m}),e.jsx(T,{filters:t,onFilterChange:m,isOpen:f,onClose:()=>l(!1),availableCategories:i}),a.data.length>0?e.jsx("div",{className:"grid gap-6",children:a.data.map(s=>e.jsx("div",{className:"bg-white rounded-[32px] p-8 shadow-sm border border-gray-border hover:shadow-md transition-shadow group",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsx("span",{className:"px-4 py-1.5 bg-cream-accent text-oflem-charcoal text-[10px] font-black uppercase tracking-widest rounded-full",children:r(s.category||"General")}),s.price_type==="fixed"?e.jsxs("span",{className:"flex items-center gap-1.5 px-4 py-1.5 bg-green-100 text-green-700 text-[10px] font-black uppercase tracking-widest rounded-full",children:[e.jsx(S,{size:10})," ",r("Fixed Price")]}):e.jsxs("span",{className:"flex items-center gap-1.5 px-4 py-1.5 bg-blue-100 text-blue-700 text-[10px] font-black uppercase tracking-widest rounded-full",children:[e.jsx(z,{size:10})," ",r("Open Offer")]}),s.distance&&e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-muted bg-oflem-cream px-3 py-1 rounded-full border border-gray-border/50",children:[e.jsx(C,{size:12,className:"text-oflem-terracotta"})," ",Math.round(s.distance),"km ",r("away")]})]}),e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal mb-3 group-hover:text-oflem-terracotta transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-muted font-medium line-clamp-2 mb-6",children:s.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-oflem-cream rounded-xl flex items-center justify-center text-oflem-terracotta",children:e.jsx(A,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-zinc-400 font-bold uppercase tracking-widest",children:r("Estimated Budget")}),e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.budget?`CHF ${s.budget}`:r("To be discussed")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-oflem-cream rounded-xl flex items-center justify-center text-oflem-terracotta",children:e.jsx(I,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-zinc-400 font-bold uppercase tracking-widest",children:r("Date & Time")}),e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.date_time?new Date(s.date_time).toLocaleDateString():r("Flexible")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-oflem-cream rounded-xl flex items-center justify-center text-oflem-terracotta",children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-zinc-400 font-bold uppercase tracking-widest",children:r("Location")}),e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.location||r("Approximate location")})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-center md:border-l border-gray-border md:pl-8",children:e.jsx(p,{href:route("missions.show",s.id),className:"w-full md:w-auto px-10 py-5 bg-oflem-charcoal text-white font-black rounded-full hover:bg-black transition-all shadow-xl whitespace-nowrap",children:s.price_type==="fixed"?r("View missions"):r("View & Quote")})})]})},s.id))}):e.jsxs("div",{className:"bg-white rounded-[40px] p-20 text-center border-2 border-dashed border-gray-border",children:[e.jsx("div",{className:"w-20 h-20 bg-zinc-50 rounded-3xl flex items-center justify-center mx-auto mb-6 text-zinc-300",children:e.jsx(H,{size:48})}),e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal mb-4",children:r("No missions found")}),e.jsx("p",{className:"text-gray-muted font-bold max-w-md mx-auto mb-10",children:r("We couldn't find any active missions matching your filters. Try clearing some filters or expanding your radius.")}),e.jsxs("button",{onClick:()=>m({radius:5,sort_by:"distance"}),className:"inline-flex items-center gap-3 px-10 py-4 bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light text-white font-black rounded-full hover:opacity-90 transition-all shadow-md group",children:[e.jsx(F,{size:20,className:"group-hover:rotate-180 transition-transform duration-500"})," ",r("Reset Filters")]})]}),a.links.length>3&&e.jsx("div",{className:"mt-12 flex justify-center gap-2",children:a.links.map((s,j)=>e.jsx(p,{href:s.url,data:t,dangerouslySetInnerHTML:{__html:s.label},className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${s.active?"bg-oflem-charcoal text-white":"bg-white text-gray-muted hover:text-oflem-charcoal border border-gray-border"} ${!s.url&&"opacity-50 cursor-not-allowed"}`,as:"button",disabled:!s.url},j))})]})]})})]})}export{ee as default};
