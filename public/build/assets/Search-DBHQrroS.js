import{a as o,j as e,H as y,r as p,c as j}from"./app-DqP4OVY8.js";import{u as v}from"./useTranslation-C26tRKoX.js";import{A as w}from"./AuthenticatedLayout-ChMwL2zy.js";import{R as N}from"./rocket-CzoQuyVr.js";import{B as k}from"./ban-CMHbIqX4.js";import{P as C,W as S}from"./wrench-DLEUzHch.js";import{P as I}from"./package-Cp5V__Bx.js";import{c as T}from"./createLucideIcon-D7VYjqJd.js";import"./Header-DWYrLM5m.js";import"./transition-CNAvhYm6.js";import"./circle-user-DF7FCUb8.js";import"./Footer-Bdwr9a_8.js";const _=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],A=T("leaf",_),P=o.memo(({strings:t,pauseTime:r=2e3,typingSpeed:d=100,onUserInput:c,className:x=""})=>{const[n,h]=o.useState(0),[a,m]=o.useState(""),[f,g]=o.useState(!0),[u,s]=o.useState(!0);o.useEffect(()=>{if(!u)return;let l;return f?a.length<t[n].length?l=setTimeout(()=>{m(t[n].slice(0,a.length+1))},d):l=setTimeout(()=>{g(!1)},r):a.length>0?l=setTimeout(()=>{m(a.slice(0,a.length-1))},d/2):(h(b=>(b+1)%t.length),g(!0)),()=>clearTimeout(l)},[a,f,u,n,t,r,d]);const i=l=>{s(!1),c(l.target.value)};return e.jsx("input",{type:"text",placeholder:u?a:"",onChange:i,onFocus:()=>s(!1),className:`w-full bg-white border-2 border-gray-border rounded-full px-8 py-4 text-lg font-medium focus:outline-none focus:border-oflem-terracotta transition-all placeholder:text-gray-muted/50 ${x}`})});function G(){const{t}=v(),[r,d]=o.useState(""),[c,x]=o.useState(!0),[n,h]=o.useState(!1),[a,m]=o.useState(!1),f=[t("Cleaning my apartment"),t("Walking my dog"),t("Assembling IKEA furniture"),t("Picking up groceries"),t("Helping with a move")],g=s=>{d(s),x(!0),m(!1)},u=async s=>{if(s.preventDefault(),!(!r||n)){h(!0),m(!1);try{const i=await j.post(route("api.moderation.check"),{content:r}),l=i.data.is_clean;x(l),m(!0),l&&p.get(route("missions.create"),{title:r,improved_title:i.data.improved_title})}catch(i){console.error("Moderation check failed",i)}finally{h(!1)}}};return e.jsxs(w,{header:t("Post a Mission"),maxWidth:"max-w-4xl",showFooter:!0,children:[e.jsx(y,{title:t("Search Mission")}),e.jsxs("div",{className:"py-20 text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-oflem-charcoal tracking-tight leading-tight mb-6",children:[t("What can we")," ",e.jsx("span",{className:"text-oflem-terracotta",children:t("do for you?")})]}),e.jsx("p",{className:"text-lg font-bold text-gray-muted mb-12 max-w-xl mx-auto leading-relaxed",children:t("Describe your mission in a few words. Our AI will help you find the best match.")}),e.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[e.jsxs("form",{onSubmit:u,className:"relative group",children:[e.jsx("div",{className:`transition-all duration-300 rounded-[32px] p-0.5 ${r?n?"bg-gray-200 animate-pulse":a&&!c?"bg-red-100":a&&c?"bg-green-100 shadow-[0_0_20px_rgba(34,197,94,0.1)]":"bg-transparent":"bg-transparent"}`,children:e.jsx(P,{strings:f,onUserInput:g,className:`h-16 text-lg ${r?a&&c?"border-green-500 shadow-sm":a&&!c?"border-red-500":"border-gray-border":"border-gray-border"}`})}),e.jsx("button",{type:"submit",disabled:!r||n,className:`absolute right-3 top-1/2 -translate-y-1/2 px-8 py-3 rounded-full font-black transition-all shadow-md active:scale-95 ${r&&!n?"bg-gradient-to-br from-oflem-terracotta to-oflem-terracotta-light text-oflem-charcoal hover:opacity-90":"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50"}`,children:n?t("Checking..."):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(N,{size:16})," ",t("Post Mission")]})})]}),a&&!c&&e.jsxs("p",{className:"text-red-500 text-sm font-bold mt-4 flex items-center justify-center gap-2",children:[e.jsx(k,{size:18})," ",t("Content violates moderation rules. Please revise.")]})]}),e.jsx("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:e.jsx(C,{size:32,className:"text-oflem-terracotta"}),label:t("Cleaning")},{icon:e.jsx(I,{size:32,className:"text-oflem-terracotta"}),label:t("Delivery")},{icon:e.jsx(S,{size:32,className:"text-oflem-terracotta"}),label:t("Repair")},{icon:e.jsx(A,{size:32,className:"text-oflem-terracotta"}),label:t("Garden")}].map((s,i)=>e.jsxs("button",{onClick:()=>p.get(route("missions.create"),{category:s.label.toLowerCase()}),className:"bg-white border border-gray-border p-6 rounded-[24px] hover:border-oflem-terracotta transition-all group",children:[e.jsx("div",{className:"flex justify-center mb-2 group-hover:scale-110 transition-transform",children:s.icon}),e.jsx("div",{className:"text-xs font-black text-oflem-charcoal uppercase tracking-widest",children:s.label})]},i))})]})]})}export{G as default};
