import{j as e,H as h,r as c}from"./app-Dk__5EGU.js";import{u as p}from"./useTranslation-B8cbwYpv.js";import{A as u}from"./AuthenticatedLayout-B3uulquQ.js";import{c as o}from"./createLucideIcon-BCfRwiVE.js";import{U as n}from"./user-OlEmWHz2.js";import{C as d}from"./clock-WKAYZEp6.js";import{C as i}from"./circle-check-big-mAq3ah1d.js";import"./transition-DpneTxUN.js";import"./LanguageSwitcher-kqEQMpS1.js";const j=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],f=o("ban",j);const g=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],b=o("triangle-alert",g);function U({flaggedMessages:a,userStrikes:r}){const{t}=p(),x=s=>{confirm(t("Clear all strikes for this user?"))&&c.post(route("admin.chat.clearStrikes",s),{},{preserveScroll:!0,onSuccess:()=>alert(t("Strikes cleared successfully"))})},m=s=>{const l=prompt(t("Suspend for how many days?"),"7");l&&c.post(route("admin.chat.suspend",s),{days:parseInt(l)},{preserveScroll:!0,onSuccess:()=>alert(t("User suspended successfully"))})};return e.jsxs(u,{children:[e.jsx(h,{title:t("Chat Moderation")}),e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-4xl font-black text-oflem-charcoal mb-2",children:t("Chat Moderation")}),e.jsx("p",{className:"text-gray-muted font-bold",children:t("Monitor flagged messages and manage user strikes")})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(b,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal",children:t("Flagged Messages")}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-black",children:a?.length||0})]}),e.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map(s=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-red-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(n,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.user?.name}),e.jsx("p",{className:"text-xs text-gray-muted font-medium",children:s.user?.email})]})]}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-black",children:s.blocked_reason||"Flagged"})]}),e.jsx("div",{className:"bg-red-50 rounded-2xl p-4 mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.content})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-muted",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleString()]}),e.jsxs("span",{children:["Mission #",s.chat?.mission_id]})]})]},s.id)):e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100",children:[e.jsx(i,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"font-bold text-gray-muted",children:t("No flagged messages")})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(f,{className:"w-6 h-6 text-orange-500"}),e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal",children:t("User Strikes")}),e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-black",children:r?.length||0})]}),e.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(s=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-orange-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(n,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.user?.name}),e.jsxs("p",{className:"text-xs text-gray-muted font-medium",children:[s.user?.strikes_count||0," active strikes"]})]})]}),e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-black",children:s.violation_type})]}),e.jsx("div",{className:"bg-orange-50 rounded-2xl p-4 mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.violation_content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-muted flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(s.user_id),className:"px-4 py-2 bg-green-100 text-green-700 rounded-xl text-xs font-black hover:bg-green-200 transition-colors",children:"Clear Strikes"}),e.jsx("button",{onClick:()=>m(s.user_id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-xl text-xs font-black hover:bg-red-200 transition-colors",children:"Suspend"})]})]})]},s.id)):e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100",children:[e.jsx(i,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"font-bold text-gray-muted",children:t("No active strikes")})]})})]})]})]})]})}export{U as default};
