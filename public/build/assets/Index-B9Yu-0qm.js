import{j as e,H as m,r as n}from"./app-DqP4OVY8.js";import{u as h}from"./useTranslation-C26tRKoX.js";import{A as p}from"./AuthenticatedLayout-ChMwL2zy.js";import{T as u}from"./triangle-alert-D621orbf.js";import{U as c}from"./user-3Eiy3H5a.js";import{C as d}from"./clock-DI4vM6iH.js";import{C as i}from"./circle-check-big-CMdM4k7f.js";import{B as f}from"./ban-CMHbIqX4.js";import"./Header-DWYrLM5m.js";import"./createLucideIcon-D7VYjqJd.js";import"./transition-CNAvhYm6.js";import"./circle-user-DF7FCUb8.js";import"./Footer-Bdwr9a_8.js";function B({flaggedMessages:a,userStrikes:r}){const{t}=h(),x=s=>{confirm(t("Clear all strikes for this user?"))&&n.post(route("admin.chat.clearStrikes",s),{},{preserveScroll:!0,onSuccess:()=>alert(t("Strikes cleared successfully"))})},o=s=>{const l=prompt(t("Suspend for how many days?"),"7");l&&n.post(route("admin.chat.suspend",s),{days:parseInt(l)},{preserveScroll:!0,onSuccess:()=>alert(t("User suspended successfully"))})};return e.jsxs(p,{children:[e.jsx(m,{title:t("Chat Moderation")}),e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-4xl font-black text-oflem-charcoal mb-2",children:t("Chat Moderation")}),e.jsx("p",{className:"text-gray-muted font-bold",children:t("Monitor flagged messages and manage user strikes")})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(u,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal",children:t("Flagged Messages")}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-black",children:a?.length||0})]}),e.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map(s=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-red-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(c,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.user?.name}),e.jsx("p",{className:"text-xs text-gray-muted font-medium",children:s.user?.email})]})]}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-black",children:s.blocked_reason||"Flagged"})]}),e.jsx("div",{className:"bg-red-50 rounded-2xl p-4 mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.content})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-muted",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleString()]}),e.jsxs("span",{children:["Mission #",s.chat?.mission_id]})]})]},s.id)):e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100",children:[e.jsx(i,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"font-bold text-gray-muted",children:t("No flagged messages")})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(f,{className:"w-6 h-6 text-orange-500"}),e.jsx("h2",{className:"text-2xl font-black text-oflem-charcoal",children:t("User Strikes")}),e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-black",children:r?.length||0})]}),e.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(s=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-orange-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(c,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-oflem-charcoal",children:s.user?.name}),e.jsxs("p",{className:"text-xs text-gray-muted font-medium",children:[s.user?.strikes_count||0," active strikes"]})]})]}),e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-black",children:s.violation_type})]}),e.jsx("div",{className:"bg-orange-50 rounded-2xl p-4 mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.violation_content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-muted flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(s.user_id),className:"px-4 py-2 bg-green-100 text-green-700 rounded-xl text-xs font-black hover:bg-green-200 transition-colors",children:"Clear Strikes"}),e.jsx("button",{onClick:()=>o(s.user_id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-xl text-xs font-black hover:bg-red-200 transition-colors",children:"Suspend"})]})]})]},s.id)):e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100",children:[e.jsx(i,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"font-bold text-gray-muted",children:t("No active strikes")})]})})]})]})]})]})}export{B as default};
