import{j as e,r as s}from"./app-Dk__5EGU.js";import{A as d}from"./AdminLayout-qnrcHc5T.js";import{m as n}from"./proxy-CG6XEhYQ.js";function h({missions:a,stats:l,currentStatus:r}){const c=[{key:"all",label:"All",count:l.total},{key:"ouverte",label:"Open",count:l.open},{key:"en_cours",label:"In Progress",count:l.inProgress},{key:"terminee",label:"Completed",count:l.completed}];return e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-black text-oflem-charcoal",children:"Mission Oversight"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor all platform missions"})]}),e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:c.map(t=>e.jsxs("button",{onClick:()=>s.get("/admin/missions",{status:t.key}),className:`px-6 py-3 rounded-xl font-bold transition-all whitespace-nowrap ${r===t.key?"bg-oflem-charcoal text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[t.label," (",t.count,")"]},t.key))}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-oflem-charcoal text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left font-black",children:"Title"}),e.jsx("th",{className:"px-6 py-4 text-left font-black",children:"Client"}),e.jsx("th",{className:"px-6 py-4 text-left font-black",children:"Performer"}),e.jsx("th",{className:"px-6 py-4 text-left font-black",children:"Budget"}),e.jsx("th",{className:"px-6 py-4 text-left font-black",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left font-black",children:"Created"})]})}),e.jsx("tbody",{children:a.data.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"font-bold",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:t.description})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:t.user?.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.user?.email})]})}),e.jsx("td",{className:"px-6 py-4",children:t.assigned_user?e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:t.assigned_user.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.assigned_user.email})]}):e.jsx("span",{className:"text-gray-400",children:"Not assigned"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-black text-oflem-terracotta",children:["CHF ",parseFloat(t.budget).toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.status==="ouverte"?"bg-green-100 text-green-800":t.status==="en_cours"?"bg-yellow-100 text-yellow-800":t.status==="terminee"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.status.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(t.created_at).toLocaleDateString()})]},t.id))})]})}),a.links&&e.jsxs("div",{className:"px-6 py-4 border-t flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",a.from," to ",a.to," of ",a.total," results"]}),e.jsx("div",{className:"flex space-x-2",children:a.links.map((t,x)=>e.jsx("button",{onClick:()=>t.url&&s.get(t.url),disabled:!t.url,className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${t.active?"bg-oflem-terracotta text-white":t.url?"bg-gray-200 hover:bg-gray-300 text-gray-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},x))})]})]})]})})}export{h as default};
