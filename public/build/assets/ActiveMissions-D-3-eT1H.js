import{j as e,a as i,r as j,H as v,L as p}from"./app-CndbTHDq.js";import{A as k}from"./AuthenticatedLayout-Beg72nQC.js";import{u as N}from"./useTranslation-BxDjp-hW.js";import{c as g}from"./createLucideIcon-DqmgdG45.js";import{l as w}from"./lodash-Bu4pK7gJ.js";import"./Header-CnEZIWpy.js";import"./transition-DUAn2XKW.js";import"./Footer-Bcof6cg9.js";const _=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],h=g("sliders-vertical",_);const C=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],b=g("x",C);function F({filters:a,onFilterChange:o}){const c=["Cleaning","Moving","DIY","IT","Admin","Delivery","Pets","Gardening","Events","Education","Wellness","Other"];return e.jsx("div",{className:"hidden lg:block w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 bg-white rounded-3xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(h,{className:"w-5 h-5 text-oflem-terracotta"}),e.jsx("h2",{className:"text-xl font-black text-oflem-charcoal",children:"Filters"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Category"}),e.jsxs("select",{value:a.category||"",onChange:t=>o({...a,category:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20",children:[e.jsx("option",{value:"",children:"All Categories"}),c.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Budget Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"number",placeholder:"Min CHF",value:a.min_budget||"",onChange:t=>o({...a,min_budget:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"}),e.jsx("input",{type:"number",placeholder:"Max CHF",value:a.max_budget||"",onChange:t=>o({...a,max_budget:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:["Distance: ",a.radius||5,"km"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:a.radius||5,onChange:t=>o({...a,radius:t.target.value}),className:"w-full h-2 bg-oflem-cream rounded-lg appearance-none cursor-pointer accent-oflem-terracotta"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-muted mt-1",children:[e.jsx("span",{children:"1km"}),e.jsx("span",{children:"50km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Deadline"}),e.jsx("input",{type:"date",value:a.deadline||"",onChange:t=>o({...a,deadline:t.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-oflem-cream rounded-2xl",children:[e.jsx("span",{className:"font-bold text-oflem-charcoal",children:"Remote Only"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.remote_only||!1,onChange:t=>o({...a,remote_only:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-oflem-terracotta/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-oflem-terracotta"})]})]}),e.jsx("button",{onClick:()=>o({radius:5,sort_by:a.sort_by||"distance"}),className:"w-full px-6 py-3 bg-gray-100 text-oflem-charcoal rounded-2xl font-black hover:bg-gray-200 transition-colors",children:"Reset Filters"})]})]})})}function M({filters:a,onFilterChange:o}){const c=[];a.search&&c.push({key:"search",label:`Search: ${a.search}`,value:a.search}),a.category&&c.push({key:"category",label:`Category: ${a.category}`,value:a.category}),a.min_budget&&c.push({key:"min_budget",label:`Min: CHF ${a.min_budget}`,value:a.min_budget}),a.max_budget&&c.push({key:"max_budget",label:`Max: CHF ${a.max_budget}`,value:a.max_budget}),a.radius&&a.radius!==5&&c.push({key:"radius",label:`${a.radius}km radius`,value:a.radius}),a.remote_only&&c.push({key:"remote_only",label:"Remote only",value:!0}),a.deadline&&c.push({key:"deadline",label:`Deadline: ${a.deadline}`,value:a.deadline});const t=n=>{const d={...a};delete d[n],o(d)},r=()=>{o({radius:5,sort_by:a.sort_by||"distance"})};return c.length===0?null:e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-gray-muted",children:"Active Filters:"}),c.map(n=>e.jsxs("button",{onClick:()=>t(n.key),className:"inline-flex items-center gap-2 px-4 py-2 bg-oflem-terracotta/10 text-oflem-terracotta rounded-full text-sm font-bold hover:bg-oflem-terracotta hover:text-white transition-colors group",children:[n.label,e.jsx(b,{className:"w-3 h-3 group-hover:rotate-90 transition-transform"})]},n.key)),c.length>1&&e.jsx("button",{onClick:r,className:"text-xs font-black uppercase tracking-widest text-gray-muted hover:text-oflem-terracotta transition-colors",children:"Clear All"})]})}function D({filters:a,onFilterChange:o,isOpen:c,onClose:t}){const[r,n]=i.useState(a),d=()=>{o(r),t()},m=["Cleaning","Moving","DIY","IT","Admin","Delivery","Pets","Gardening","Events","Education","Wellness","Other"];return c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white z-50 lg:hidden overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-5 h-5 text-oflem-terracotta"}),e.jsx("h2",{className:"text-xl font-black text-oflem-charcoal",children:"Filters"})]}),e.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(b,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Category"}),e.jsxs("select",{value:r.category||"",onChange:l=>n({...r,category:l.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20",children:[e.jsx("option",{value:"",children:"All Categories"}),m.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Budget Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"number",placeholder:"Min CHF",value:r.min_budget||"",onChange:l=>n({...r,min_budget:l.target.value}),className:"px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"}),e.jsx("input",{type:"number",placeholder:"Max CHF",value:r.max_budget||"",onChange:l=>n({...r,max_budget:l.target.value}),className:"px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:["Distance: ",r.radius||5,"km"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:r.radius||5,onChange:l=>n({...r,radius:l.target.value}),className:"w-full h-2 bg-oflem-cream rounded-lg appearance-none cursor-pointer accent-oflem-terracotta"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-muted mt-1",children:[e.jsx("span",{children:"1km"}),e.jsx("span",{children:"50km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-muted mb-3 block",children:"Deadline"}),e.jsx("input",{type:"date",value:r.deadline||"",onChange:l=>n({...r,deadline:l.target.value}),className:"w-full px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-oflem-cream rounded-2xl",children:[e.jsx("span",{className:"font-bold text-oflem-charcoal",children:"Remote Only"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.remote_only||!1,onChange:l=>n({...r,remote_only:l.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-oflem-terracotta/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-oflem-terracotta"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-100 p-6 flex gap-4",children:[e.jsx("button",{onClick:()=>{n({radius:5,sort_by:"distance"}),o({radius:5,sort_by:"distance"}),t()},className:"flex-1 px-6 py-4 bg-gray-100 text-oflem-charcoal rounded-2xl font-black hover:bg-gray-200 transition-colors",children:"Reset"}),e.jsx("button",{onClick:d,className:"flex-1 px-6 py-4 bg-oflem-terracotta text-white rounded-2xl font-black hover:bg-oflem-terracotta/90 transition-colors",children:"Apply Filters"})]})]})]}):null}function E({missions:a,userLocation:o,currentFilters:c}){const{t}=N(),[r,n]=i.useState(c||{}),[d,m]=i.useState(!0),[l,u]=i.useState(!1),f=i.useCallback(w.debounce(s=>{j.get(route("missions.active"),s,{preserveState:!0,preserveScroll:!0,replace:!0})},300),[]);i.useEffect(()=>{if(d){m(!1);return}f(r)},[r]);const x=s=>{n(s)};return e.jsxs(k,{header:t("Active Missions"),maxWidth:"max-w-[1400px]",showFooter:!0,children:[e.jsx(v,{title:t("Active Missions")}),e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[e.jsx(F,{filters:r,onFilterChange:x}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-gray-muted font-bold",children:[t("Showing missions within")," ",e.jsxs("span",{className:"text-gold-accent",children:[r.radius||5,"km"]})," ",t("of your location.")]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-xs font-black text-gray-muted uppercase tracking-widest",children:[t("Sort"),":"]}),e.jsxs("select",{value:r.sort_by||"distance",onChange:s=>x({...r,sort_by:s.target.value}),className:"bg-white border-2 border-gray-border rounded-full px-6 py-2 font-bold text-sm outline-none focus:border-gold-accent transition-all",children:[e.jsx("option",{value:"distance",children:t("Closest")}),e.jsx("option",{value:"newest",children:t("Newest")}),e.jsx("option",{value:"budget",children:t("Budget")}),e.jsx("option",{value:"deadline",children:t("Deadline")})]}),e.jsxs("button",{onClick:()=>u(!0),className:"lg:hidden flex items-center gap-2 px-6 py-2 bg-white border-2 border-gray-border rounded-full font-bold text-sm hover:border-gold-accent transition-all shadow-sm",children:["ðŸ” ",t("Filters")]})]})]}),e.jsx(M,{filters:r,onFilterChange:x}),e.jsx(D,{filters:r,onFilterChange:x,isOpen:l,onClose:()=>u(!1)}),a.data.length>0?e.jsx("div",{className:"grid gap-6",children:a.data.map(s=>e.jsx("div",{className:"bg-white rounded-[32px] p-8 shadow-sm border border-gray-border hover:shadow-md transition-shadow group",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsx("span",{className:"px-4 py-1.5 bg-cream-accent text-primary-black text-[10px] font-black uppercase tracking-widest rounded-full",children:t(s.category||"General")}),s.price_type==="fixed"?e.jsxs("span",{className:"px-4 py-1.5 bg-green-100 text-green-700 text-[10px] font-black uppercase tracking-widest rounded-full",children:["âš¡ ",t("Fixed Price")]}):e.jsxs("span",{className:"px-4 py-1.5 bg-blue-100 text-blue-700 text-[10px] font-black uppercase tracking-widest rounded-full",children:["ðŸ·ï¸ ",t("Open Offer")]}),s.distance&&e.jsxs("span",{className:"text-xs font-bold text-gray-muted bg-oflem-cream px-3 py-1 rounded-full",children:["ðŸ“ ",Math.round(s.distance),"km ",t("away")]})]}),e.jsx("h2",{className:"text-2xl font-black text-primary-black mb-3 group-hover:text-gold-accent transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-muted font-medium line-clamp-2 mb-6",children:s.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’°"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-muted uppercase tracking-tighter",children:t("Estimated Budget")}),e.jsx("p",{className:"font-black text-primary-black",children:s.budget?`CHF ${s.budget}`:t("To be discussed")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ“…"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-muted uppercase tracking-tighter",children:t("Date & Time")}),e.jsx("p",{className:"font-black text-primary-black",children:s.date_time?new Date(s.date_time).toLocaleDateString():t("Flexible")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ "}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-muted uppercase tracking-tighter",children:t("Location")}),e.jsx("p",{className:"font-black text-primary-black",children:s.location||t("Approximate location")})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-center md:border-l border-gray-border md:pl-8",children:e.jsx(p,{href:route("missions.show",s.id),className:"w-full md:w-auto px-10 py-5 bg-primary-black text-white font-black rounded-full hover:bg-black transition-all shadow-xl whitespace-nowrap",children:s.price_type==="fixed"?t("View missions"):t("View & Quote")})})]})},s.id))}):e.jsxs("div",{className:"bg-white rounded-[40px] p-20 text-center border-2 border-dashed border-gray-border",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ðŸ›°ï¸"}),e.jsx("h2",{className:"text-2xl font-black text-primary-black mb-4",children:t("No missions found")}),e.jsx("p",{className:"text-gray-muted font-bold max-w-md mx-auto mb-10",children:t("We couldn't find any active missions matching your filters. Try clearing some filters or expanding your radius.")}),e.jsxs("button",{onClick:()=>x({radius:5,sort_by:"distance"}),className:"inline-block px-10 py-4 bg-gold-accent text-primary-black font-black rounded-full hover:opacity-90 transition-all shadow-md",children:["ðŸ”„ ",t("Reset Filters")]})]}),a.links.length>3&&e.jsx("div",{className:"mt-12 flex justify-center gap-2",children:a.links.map((s,y)=>e.jsx(p,{href:s.url,data:r,dangerouslySetInnerHTML:{__html:s.label},className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${s.active?"bg-primary-black text-white":"bg-white text-gray-muted hover:text-primary-black border border-gray-border"} ${!s.url&&"opacity-50 cursor-not-allowed"}`,as:"button",disabled:!s.url},y))})]})]})})]})}export{E as default};
