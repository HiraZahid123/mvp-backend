import{a as i,j as e,H as g,L as x,r as c}from"./app-CQawlfId.js";import{u as y}from"./useTranslation-Ew-ZoTZw.js";import{A as j}from"./AuthenticatedLayout-C2x_uR8U.js";import{c as m}from"./createLucideIcon-DS0nCNzZ.js";import{S as N}from"./search-BF1mgfCA.js";import{F as v}from"./funnel-DTNnLfhf.js";import{M as w}from"./mail-C9OYvFrW.js";import{C as k}from"./calendar-BrWK5ftW.js";import"./transition-Ct-skzim.js";import"./LanguageSwitcher-Brws5Y8T.js";const _=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],S=m("user-check",_);const U=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],M=m("user-x",U);function q({users:r,filters:o}){const{t}=y(),[n,p]=i.useState(o?.search||""),[d,h]=i.useState(o?.role_type||""),u=a=>{a.preventDefault(),c.get(route("admin.users.index"),{search:n,role_type:d},{preserveState:!0,preserveScroll:!0})},f=a=>{confirm(t("Are you sure you want to ban this user?"))&&c.post(route("admin.users.ban",a),{},{preserveScroll:!0,onSuccess:()=>alert(t("User banned successfully"))})},b=a=>{const s={customer:{bg:"bg-blue-100",text:"text-blue-700",label:"Flemmard"},performer:{bg:"bg-green-100",text:"text-green-700",label:"MotivÃ©"},both:{bg:"bg-purple-100",text:"text-purple-700",label:"Both"}},l=s[a]||s.customer;return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${l.bg} ${l.text}`,children:l.label})};return e.jsxs(j,{children:[e.jsx(g,{title:t("User Management")}),e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-oflem-charcoal mb-2",children:t("User Management")}),e.jsx("p",{className:"text-gray-muted font-bold",children:t("Manage all platform users")})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-oflem-cream rounded-full",children:[e.jsx(S,{className:"w-5 h-5 text-oflem-terracotta"}),e.jsxs("span",{className:"text-sm font-black text-oflem-charcoal",children:[r.total," ",t("Users")]})]})]}),e.jsx("form",{onSubmit:u,className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(N,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:a=>p(a.target.value),placeholder:t("Search by name or email..."),className:"w-full pl-12 pr-4 py-3 bg-oflem-cream border-0 rounded-2xl font-medium focus:ring-2 focus:ring-oflem-terracotta/20"})]}),e.jsxs("select",{value:d,onChange:a=>h(a.target.value),className:"px-4 py-3 bg-oflem-cream border-0 rounded-2xl font-bold focus:ring-2 focus:ring-oflem-terracotta/20",children:[e.jsx("option",{value:"",children:t("All Roles")}),e.jsx("option",{value:"customer",children:t("Flemmard")}),e.jsx("option",{value:"performer",children:t("MotivÃ©")}),e.jsx("option",{value:"both",children:t("Both")})]}),e.jsxs("button",{type:"submit",className:"px-8 py-3 bg-oflem-terracotta text-white rounded-2xl font-black hover:bg-oflem-terracotta/90 transition-colors",children:[e.jsx(v,{className:"w-5 h-5 inline mr-2"}),t("Filter")]})]})})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-oflem-cream border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-wider text-gray-muted",children:t("User")}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-wider text-gray-muted",children:t("Role")}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-wider text-gray-muted",children:t("Status")}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-wider text-gray-muted",children:t("Joined")}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black uppercase tracking-wider text-gray-muted",children:t("Actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.data.map(a=>e.jsxs("tr",{className:"hover:bg-oflem-cream/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-oflem-terracotta/10 rounded-full flex items-center justify-center font-black text-oflem-terracotta",children:a.name?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-oflem-charcoal",children:a.name}),e.jsxs("div",{className:"text-sm text-gray-muted font-medium flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),a.email]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:b(a.role_type)}),e.jsx("td",{className:"px-6 py-4",children:a.chat_suspended_until&&new Date(a.chat_suspended_until)>new Date?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider bg-red-100 text-red-700",children:t("Suspended")}):a.email_verified_at?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider bg-green-100 text-green-700",children:t("Active")}):e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider bg-yellow-100 text-yellow-700",children:t("Unverified")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"}),new Date(a.created_at).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(x,{href:route("admin.users.show",a.id),className:"px-4 py-2 bg-oflem-cream text-oflem-charcoal rounded-xl font-bold text-sm hover:bg-oflem-terracotta hover:text-white transition-colors",children:t("View")}),!a.chat_suspended_until||new Date(a.chat_suspended_until)<new Date?e.jsxs("button",{onClick:()=>f(a.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-xl font-bold text-sm hover:bg-red-200 transition-colors",children:[e.jsx(M,{className:"w-4 h-4 inline mr-1"}),t("Ban")]}):e.jsx("span",{className:"px-4 py-2 bg-gray-100 text-gray-400 rounded-xl font-bold text-sm cursor-not-allowed",children:t("Banned")})]})})]},a.id))})]})}),r.links.length>3&&e.jsx("div",{className:"px-6 py-4 bg-oflem-cream/50 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-600",children:[t("Showing")," ",r.from," ",t("to")," ",r.to," ",t("of")," ",r.total," ",t("users")]}),e.jsx("div",{className:"flex gap-2",children:r.links.map((a,s)=>e.jsx(x,{href:a.url,preserveState:!0,preserveScroll:!0,className:`px-4 py-2 rounded-xl font-bold text-sm transition-colors ${a.active?"bg-oflem-terracotta text-white":a.url?"bg-white text-oflem-charcoal hover:bg-oflem-cream":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},s))})]})})]}),r.data.length===0&&e.jsxs("div",{className:"bg-white rounded-3xl p-20 text-center shadow-sm border border-gray-100",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ðŸ‘¥"}),e.jsx("h3",{className:"text-2xl font-black text-oflem-charcoal mb-4",children:t("No users found")}),e.jsx("p",{className:"text-gray-muted font-medium mb-8",children:t("Try adjusting your search or filters")}),e.jsx("button",{onClick:()=>c.get(route("admin.users.index")),className:"px-8 py-4 bg-oflem-terracotta text-white rounded-full font-black hover:bg-oflem-terracotta/90 transition-colors",children:t("Clear Filters")})]})]})]})}export{q as default};
